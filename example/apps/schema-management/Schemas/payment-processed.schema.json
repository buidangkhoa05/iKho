{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PaymentProcessed",
  "description": "Represents a payment processing event published to the 'payment-processed' Kafka topic.",
  "type": "object",
  "properties": {
    "paymentId": {
      "type": "string",
      "description": "Unique payment identifier"
    },
    "orderId": {
      "type": "string",
      "description": "Associated order identifier"
    },
    "customerId": {
      "type": "string",
      "description": "Customer who made the payment"
    },
    "amount": {
      "type": "number",
      "minimum": 0,
      "description": "Payment amount"
    },
    "currency": {
      "type": "string",
      "default": "USD",
      "description": "Currency code (ISO 4217)"
    },
    "paymentMethod": {
      "type": "string",
      "enum": ["CreditCard", "DebitCard", "PayPal", "BankTransfer", "Crypto", "ApplePay", "GooglePay"],
      "description": "Payment method used"
    },
    "status": {
      "type": "string",
      "enum": ["Pending", "Authorized", "Captured", "Refunded", "Failed", "Cancelled"],
      "description": "Payment processing status"
    },
    "gatewayResponse": {
      "type": "object",
      "properties": {
        "transactionId": { "type": "string" },
        "responseCode": { "type": "string" },
        "message": { "type": "string" },
        "processorName": { "type": "string" }
      }
    },
    "processedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the payment was processed"
    }
  },
  "required": ["paymentId", "orderId", "amount", "paymentMethod", "status", "processedAt"]
}
